/* src/styles/DataPage.css */

/* ============================== */
/* Enterprise tokens              */
/* ============================== */
.data-page {
  --bg: #f6f8fb;
  --card: #ffffff;

  /* ink scale */
  --ink-strong: #111827;
  --ink: #1f2937;
  --ink-muted: #6b7280;
  --ink-subtle: #9ca3af;

  --text: var(--ink);
  --muted: var(--ink-muted);
  --border: rgba(15, 23, 42, 0.12);
  --ring: rgba(59, 130, 246, 0.25);
  --shadow: 0 6px 16px rgba(15, 23, 42, 0.08);

  /* Actions */
  --apply: #57c773;
  --apply-dark: #44b465;
  --apply-edge: #2fa45a;
  --danger: #e24949;
  --danger-dark: #cc3c3c;
  --danger-bg: #fff1f1;
  --disabled-bg: #eef2f7;

  /* Aurora palette */
  --au-blue: #60a5fa;
  --au-teal: #14b8a6;
  --au-green: #22c55e;

  /* UX accents */
  --accent: #0ea5e9;
  --accent-2: #10b981;
}

/* ============================== */
/* Page background / frame        */
/* ============================== */
.data-page {
  background: linear-gradient(180deg, #fafcff 0%, var(--bg) 100%);
  min-height: 100vh;
  color: var(--text);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue",
    Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
}
.data-page.modal-open { overflow: hidden; }

.tool-frame {
  width: min(1200px, 96vw);
  margin: 8px auto 12px;
  background: transparent;
}

/* Density */
.density-compact { font-size: 12px; }

/* Header */
.page-header h1 {
  margin: 0 0 2px;
  font-weight: 600;
  letter-spacing: .2px;
  color: var(--ink-strong);
  font-size: 1.45em;
}
.page-help {
  margin: 0 0 8px;
  color: var(--ink-subtle);
  font-size: .92em;
}

/* ============================== */
/* Single card + grid layout      */
/* ============================== */
.form-card {
  position: relative;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 10px;
  box-shadow: var(--shadow);
  padding: 10px;
  display: grid;
  grid-template-columns: repeat(3, minmax(260px, 1fr));
  gap: 14px;
}
.form-card::before {
  content: "";
  position: absolute;
  top: -1px; bottom: -1px; left: -1px;
  width: 3px;
  border-radius: 10px 0 0 10px;
  background: linear-gradient(180deg, var(--au-blue), var(--au-teal), var(--au-green));
  opacity: .5;
}

/* Sub-section headings */
.form-card h2 {
  margin: 2px 0 6px;
  font-weight: 700;
  color: var(--ink-strong);
  font-size: 1em;
  display: flex;
  align-items: center;
  gap: 6px;
  letter-spacing: .15px;
}
.form-card h2::after {
  content: "";
  flex: 1 1 auto;
  height: 1px;
  background: linear-gradient(90deg, rgba(0,0,0,0.08), rgba(0,0,0,0));
  margin-left: 6px;
}

/* ============================== */
/* Fields / inputs                */
/* ============================== */
.field {
  display: grid;
  gap: 3px;
  margin-bottom: 8px;
  padding: 2px;
  border-radius: 6px;
}
.field-label {
  color: var(--ink-strong);
  font-size: .9em;
  font-weight: 600;
  display: inline-flex;
  align-items: center;
  gap: 6px;
}
.help-text,
.help {
  color: var(--ink-subtle);
  font-size: .85em;
  margin-top: -1px;
}

/* focus */
.field:focus-within {
  background: #f8fafc;
  box-shadow: inset 2px 0 0 var(--accent), 0 1px 0 rgba(15,23,42,0.02);
}

/* Inputs */
.input, select {
  height: 32px;                 /* shorter inputs */
  padding: 0 .55em;
  font-size: .9em;
  border: 1px solid var(--border);
  border-radius: 6px;
  background: #fff;
  outline: none;
  transition: box-shadow .12s, border-color .12s, background .12s;
}
.input.input-sm { max-width: 320px; }
.input.input-xs { max-width: 220px; }

.input:focus, select:focus {
  border-color: #93c5fd;
  box-shadow: 0 0 0 .22rem var(--ring);
}

/* Make left-column controls narrower by default (space efficiency) */
.form-card > div:nth-child(1) .input,
.form-card > div:nth-child(1) select {
  width: auto;
  min-width: 160px;
  max-width: 240px;
}

/* ============================== */
/* Help tooltip (hover “?”)       */
/* ============================== */
.help-wrap {
  position: relative;
  display: inline-flex;
  margin-left: 4px;
  cursor: help;
  color: var(--ink-muted);
}
.help-wrap svg { opacity: .9; }
.help-card {
  position: absolute;
  top: 120%;
  left: 0;
  z-index: 20;
  width: 260px;
  padding: 8px 10px;
  border-radius: 8px;
  background: rgba(15,23,42,0.96);
  color: #eaf2ff;
  box-shadow: 0 8px 18px rgba(0,0,0,0.35);
  font-size: 12px;
  line-height: 1.3;
  pointer-events: none;
}

/* ============================== */
/* Icon dropdown (custom select)  */
/* ============================== */
.icon-select {
  position: relative;
  width: 220px;
  max-width: 100%;
  display: inline-block;
}
.icon-select__trigger {
  width: 100%;
  display: inline-flex !important;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 6px 10px !important;
  min-height: 32px;
}
.icon-select__value {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
.icon-select .label { font-size: 14px; }
.icon-select .muted { opacity: .6; }
.icon-select .caret { opacity: .7; font-size: 12px; }

.icon-select__menu {
  position: absolute;
  top: calc(100% + 6px);
  left: 0; right: 0;
  z-index: 30;
  background: #fff;
  color: #111827;
  border: 1px solid var(--border);
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 10px 24px rgba(0,0,0,0.15);
}
.icon-select__item {
  width: 100%;
  text-align: left;
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 14px;
}
.icon-select__item.is-active {
  background: rgba(59,130,246,0.08);
}

/* ============================== */
/* Constraints                    */
/* ============================== */
.range-pair .range-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 6px;
}
.range-box { display: grid; gap: 3px; }
.mini-label { font-size: .78em; color: var(--ink-muted); }
.range-pair .input.input-xs { max-width: 9rem; }

/* ============================== */
/* Bottom actions                 */
/* ============================== */
.bottom-actions {
  grid-column: 1 / -1;          /* span all columns of the grid */
  display: flex;
  justify-content: flex-end;
  gap: 6px;
  margin-top: 4px;
}

/* Buttons (shared) */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 34px;
  padding: 0 .75em;
  border-radius: 7px;
  border: 1px solid transparent;
  font-weight: 600;
  font-size: .9em;
  cursor: pointer;
  position: relative;
  transition: transform .12s, box-shadow .12s, opacity .12s, background-color .12s, border-color .12s;
}
.btn-sm { height: 32px; padding: 0 .65em; font-size: .85em; border-radius: 6px; }

.btn[disabled] {
  cursor: not-allowed;
  opacity: .55;
  background: var(--disabled-bg) !important;
  border-color: var(--border) !important;
  box-shadow: none !important;
  transform: none !important;
}

/* Apply */
.btn-apply {
  color: #082c16;
  background: linear-gradient(180deg, var(--apply) 0%, #45c276 60%, #38b96f 100%);
  border-color: var(--apply-edge);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.35),
    0 6px 14px rgba(87,199,115,.28);
  overflow: hidden;
}
.btn-apply::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(100deg, rgba(255,255,255,.35) 0%, rgba(255,255,255,0) 35%);
  transform: translateX(-120%);
  transition: transform .6s ease;
  pointer-events: none;
}
.btn-apply:not([disabled]):hover {
  background: linear-gradient(180deg, var(--apply-dark) 0%, #3fbf72 60%, #34b36a 100%);
  transform: translateY(-1px);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.35),
    0 9px 18px rgba(87,199,115,.35);
}
.btn-apply:not([disabled]):hover::after { transform: translateX(0%); }
.btn-apply:focus-visible {
  outline: none;
  box-shadow: 0 0 0 .2rem rgba(87,199,115,.32), 0 6px 16px rgba(87,199,115,.32);
}

/* Clear */
.btn-clear {
  background: #fff;
  color: var(--danger);
  border-color: var(--danger);
}
.btn-clear:not([disabled]):hover {
  background: var(--danger-bg);
  color: var(--danger-dark);
  border-color: var(--danger-dark);
  transform: translateY(-1px);
}

/* ============================== */
/* Responsive                     */
/* ============================== */
@media (max-width: 1100px) {
  .form-card { grid-template-columns: repeat(2, minmax(260px, 1fr)); }
}
@media (max-width: 720px) {
  .form-card { grid-template-columns: 1fr; }
  .bottom-actions { grid-column: auto; }
}



/* ============================== */
/* Force dark text inside inputs on DataPage only */
.data-page .input,
.data-page select,
.data-page textarea {
  color: var(--ink-strong);
  -webkit-text-fill-color: var(--ink-strong); /* WebKit */
  background: #fff;
}

/* Placeholders readable */
.data-page .input::placeholder,
.data-page textarea::placeholder {
  color: var(--ink-subtle);
}

/* Autofill (Chrome/Safari) — keep text dark and background white */
.data-page .input:-webkit-autofill,
.data-page select:-webkit-autofill,
.data-page textarea:-webkit-autofill {
  -webkit-text-fill-color: var(--ink-strong) !important;
  caret-color: var(--ink-strong);
  box-shadow: 0 0 0 1000px #fff inset;
  transition: background-color 9999s ease-out, color 0s;
}

/* Prefer light form controls */
.data-page {
  color-scheme: light;
}
